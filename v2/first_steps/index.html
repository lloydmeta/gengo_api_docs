<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Language" content="en-us" />
  <meta http-equiv="imagetoolbar" content="false" />
  <meta name="MSSmartTagsPreventParsing" content="true" />
  <title>First steps | Gengo API</title>
  <link href="/css/reset.css" rel="stylesheet" type="text/css" />
  <link href="/css/960.css" rel="stylesheet" type="text/css" />
  <link href="/css/uv_active4d.css" rel="stylesheet" type="text/css" />
  <link href="/shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
  <link href="/shared/css/pygments.css" media="screen" rel="stylesheet" type="text/css">
  <script src="/shared/js/jquery.js" type="text/javascript"></script>
  <script src="/shared/js/documentation.js" type="text/javascript"></script>
</head>
<body class="api">

    <div id="header-wrapper">
      <div id="header">
        <div>
          <a class="logo" href="/"><img src="/images/logo_developer.png" width="120" height="43" /></a>
          <ul class="nav">
            <li><a
              href="mailto:support@gengo.com?subject=GengoAPI">Support</a></li>
          </ul>
        </div>
      </div><!-- #header -->
    </div><!-- #header-wrapper -->

    <div id="wrapper">
      <div class="content">
    <h1 id="first-steps">First steps</h1>

<h3 id="follow-these-steps-to-get-going-with-the-api-without-any-bumps">Follow these steps to get going with the API without any bumps:</h3>

<ol>
<li><a href="#step-1-create-a-sandbox-account-and-obtain-an-api-key">Create a sandbox account and obtain an API key.</a></li>
  <li>
<a href="#step-2-play-in-the-sandbox-with-your-api-keys">Play in the sandbox with your API keys.</a>
    <ul>
<li><a href="#basic-get-call">Basic example: GET language pairs</a></li>
      <li><a href="#basic-post-call">Basic example: POST to translate/jobs</a></li>
    </ul>
</li>
  <li>Setting a default callback and testing it. (Coming soon)</li>
</ol><h2 id="step-1-create-a-sandbox-account-and-obtain-an-api-key">Step 1: Create a sandbox account and obtain an API key</h2>
<p>Every API call must be authorized using an API key. While you’re testing, you should use the sandbox and generate your keys from there. In this tutorial I will show you how to create a sandbox account, so that you can get your API keys to make calls to the Gengo Translate API.</p>

<p>First you need to create a free sandbox account. Click “Create a sandbox account” below, enter your email and password, and verify your account through the email sent to you.</p>

<p><a href="http://sandbox.mygengo.com/sandbox">Create a sandbox account</a></p>

<p>After logging in, go to your Account section, and click on “API settings” in the right-hand menu.</p>

<p>This is where your API keys will be stored. To create a new key, click “Generate Key”.</p>

<p>Each public key has a corresponding private key and callback URL. The public key is what identifies you - kinda like your login name. The private key is like your password - do NOT share it with anyone, or they may be able to access your account. The callback URL is helpful if you want Gengo to send status updates about the progress of your job to your server or application.</p>

<p>Copy the public and private keys so you can use them in your application.</p>

<pre><code>$public_key = "rspZJxEnswelpvS0)tdwM]7uPjkcgR%@k_mN[Z1ac_3a=#EN%r=]cKwxq98-XQdK";
$private_key = "IlUyZP5TISBSxRzEm0mil$L}-0FxeX(24W1d#TkY{qNkh42Q3B}m2)XJi_nYqrl^";
</code></pre>

<p>That’s it! In the next step we’ll show some API calls in action.</p>

<h2 id="step-2-play-in-the-sandbox-with-your-api-keys">Step 2: Play in the sandbox with your API keys</h2>

<h3 id="basic-get-call">Basic GET call</h3>
<p>In this tutorial I will demonstrate how to make API calls using some command-line PHP scripts. In all examples, we’ll assume the following constant values:</p>

<pre><code>$url = 'http://api.sandbox.mygengo.com/v2/';
$public_key = "rspZJxEnswelpvS0)tdwM]7uPjkcgR%@k_mN[Z1ac_3a=#EN%r=]cKwxq98-XQdK";
$private_key = "IlUyZP5TISBSxRzEm0mil$L}-0FxeX(24W1d#TkY{qNkh42Q3B}m2)XJi_nYqrl^";
$response_type = 'json'; // choose response type; 'json' or 'xml'
$header = array('Accept: application/'.$response_type);
</code></pre>

<h3 id="retrieving-language-pairs">Retrieving language pairs</h3>

<p>First we’ll make a simple call to retrieve a list of target languages supported for a given source language, in this case Japanese. The example code creates the required authentication parameters for us, but you will want to read about the <a href="/v2/authentication/">authentication process</a> in the API documentation.</p>

<p>So, to retrieve languages Gengo can translate Japanese into, we pass “ja” as the parameter to “translate/service/language_pairs”.</p>

<pre><code>$query = array('api_key' =&gt; $public_key, 'ts' =&gt; gmdate('U'), 'lc_src' = 'ja');
$query = http_build_query($query);

// calculate the API signature required for this call
$hmac = hash_hmac('sha1', $query['ts'], $private_key);
$query .= "&amp;api_sig={$hmac}";
$url .= 'translate/service/language_pairs?' . $query;

$ch = curl_init($url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_HTTPHEADER, $header);
$response = curl_exec($ch);
curl_close($ch);
print_r(json_decode($response));
</code></pre>

<p>Return value:</p>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"opstat"</span><span class="o">:</span> <span class="s2">"ok"</span><span class="p">,</span>
  <span class="s2">"response"</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"lc_src"</span><span class="o">:</span> <span class="s2">"ja"</span><span class="p">,</span>
      <span class="s2">"lc_tgt"</span><span class="o">:</span> <span class="s2">"en"</span><span class="p">,</span>
      <span class="s2">"tier"</span><span class="o">:</span> <span class="s2">"machine"</span><span class="p">,</span>
      <span class="s2">"unit_price"</span><span class="o">:</span> <span class="s2">"0.0"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"lc_src"</span><span class="o">:</span> <span class="s2">"ja"</span><span class="p">,</span>
      <span class="s2">"lc_tgt"</span><span class="o">:</span> <span class="s2">"es"</span><span class="p">,</span>
      <span class="s2">"tier"</span><span class="o">:</span> <span class="s2">"machine"</span><span class="p">,</span>
      <span class="s2">"unit_price"</span><span class="o">:</span> <span class="s2">"0.0"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"lc_src"</span><span class="o">:</span> <span class="s2">"ja"</span><span class="p">,</span>
      <span class="s2">"lc_tgt"</span><span class="o">:</span> <span class="s2">"en"</span><span class="p">,</span>
      <span class="s2">"tier"</span><span class="o">:</span> <span class="s2">"standard"</span><span class="p">,</span>
      <span class="s2">"unit_price"</span><span class="o">:</span> <span class="s2">"0.0300"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"lc_src"</span><span class="o">:</span> <span class="s2">"ja"</span><span class="p">,</span>
      <span class="s2">"lc_tgt"</span><span class="o">:</span> <span class="s2">"es"</span><span class="p">,</span>
      <span class="s2">"tier"</span><span class="o">:</span> <span class="s2">"standard"</span><span class="p">,</span>
      <span class="s2">"unit_price"</span><span class="o">:</span> <span class="s2">"0.0300"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"lc_src"</span><span class="o">:</span> <span class="s2">"ja"</span><span class="p">,</span>
      <span class="s2">"lc_tgt"</span><span class="o">:</span> <span class="s2">"en"</span><span class="p">,</span>
      <span class="s2">"tier"</span><span class="o">:</span> <span class="s2">"pro"</span><span class="p">,</span>
      <span class="s2">"unit_price"</span><span class="o">:</span> <span class="s2">"0.0600"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"lc_src"</span><span class="o">:</span> <span class="s2">"ja"</span><span class="p">,</span>
      <span class="s2">"lc_tgt"</span><span class="o">:</span> <span class="s2">"es"</span><span class="p">,</span>
      <span class="s2">"tier"</span><span class="o">:</span> <span class="s2">"pro"</span><span class="p">,</span>
      <span class="s2">"unit_price"</span><span class="o">:</span> <span class="s2">"0.0600"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"lc_src"</span><span class="o">:</span> <span class="s2">"ja"</span><span class="p">,</span>
      <span class="s2">"lc_tgt"</span><span class="o">:</span> <span class="s2">"en"</span><span class="p">,</span>
      <span class="s2">"tier"</span><span class="o">:</span> <span class="s2">"ultra"</span><span class="p">,</span>
      <span class="s2">"unit_price"</span><span class="o">:</span> <span class="s2">"0.0900"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"lc_src"</span><span class="o">:</span> <span class="s2">"ja"</span><span class="p">,</span>
      <span class="s2">"lc_tgt"</span><span class="o">:</span> <span class="s2">"es"</span><span class="p">,</span>
      <span class="s2">"tier"</span><span class="o">:</span> <span class="s2">"ultra"</span><span class="p">,</span>
      <span class="s2">"unit_price"</span><span class="o">:</span> <span class="s2">"0.0900"</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span></code></pre>

<p>What we get back is data about each supported target language for Japanese, including the quality level (or tier) and unit price. Here we see that currently Gengo can translate Japanese into English and Spanish, each at Standard, Pro, and Ultra levels, as well as with machine translation.</p>

<p>So, that’s a very simple example of how to retrieve data through the Gengo Translate API.</p>

<h3 id="basic-post-call">Basic POST call</h3>

<p>Now let’s submit some jobs for human translation. The sandbox allows users to quickly add fake credits so you can easily submit jobs. First, login and add some fake credits to your account.</p>

<p>Once that’s done, open the example jobs-post.php script and edit fields for two jobs to submit. Add some text to have translated in the ‘body_src’ field, and check that the source, target, and tier parameters are what we want. We can also send some custom data to associate with each job; this is data specific to your service and won’t be touched at any time. Custom data will be returned verbatim whenever the job is requested.</p>

<pre><code>$job1 = array(
    'slug' =&gt; 'job test 1',
    'body_src' =&gt; 'one two three four',
    'lc_src' =&gt; 'en',
    'lc_tgt' =&gt; 'ja',
    'tier' =&gt; 'standard',
    'auto_approve' =&gt; 1,
    'custom_data' =&gt; 'some custom data untouched by Gengo.',
    );

$job2 = array(
    'slug' =&gt; 'job test 2',
    'body_src' =&gt; 'five six seven eight',
    'lc_src' =&gt; 'en',
    'lc_tgt' =&gt; 'ja',
    'tier' =&gt; 'standard',
    'comment' =&gt; 'This one has a comment.'
    );

$jobs = array('job_1' =&gt; $job1, 'job_2' =&gt; $job2);
$data = array('jobs' =&gt; $jobs);

// if you wanted these done by the same translator, add the "as_group" parameter
// $data = array('jobs' =&gt; $jobs, 'as_group' =&gt; 1);

$params = array(
    'api_key' =&gt; $api_key,
    'ts' =&gt; gmdate('U'),
    'data' =&gt; json_encode($data)
);


$hmac = hash_hmac('sha1', $params['ts'], $private_key);
$params['api_sig'] = $hmac;
$enc_params = json_encode($params);

$url .= 'translate/jobs';
$ch = curl_init($url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt($ch, CURLOPT_POSTFIELDS, $params);
curl_setopt($ch, CURLOPT_HTTPHEADER, $header);
$response = curl_exec($ch);
curl_close($ch);
</code></pre>

<p>You’ll want to review documentation for the “translate/jobs” entry-point to see what other parameters are available, but for this example we will turn job-grouping off (which means different translators can work on each job).</p>

<p>So, let’s post these two jobs:</p>

<pre class="terminal">
php -f jobs-post.php
</pre>

<p>The response will let you know various statistics about the order:</p>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"opstat"</span><span class="o">:</span> <span class="s2">"ok"</span><span class="p">,</span>
  <span class="s2">"response"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">"order_id"</span><span class="o">:</span> <span class="s2">"109655"</span><span class="p">,</span>
    <span class="s2">"job_count"</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">"credits_used"</span><span class="o">:</span> <span class="s2">"0.30"</span><span class="p">,</span>
    <span class="s2">"currency"</span><span class="o">:</span> <span class="s2">"USD"</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre>

<p>In the response from a job <code>post</code>, one of the most important pieces of info is the <code>order id</code>, which can be used to retrieve information about the order, such as the job ids of the jobs placed:</p>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"opstat"</span><span class="o">:</span> <span class="s2">"ok"</span><span class="p">,</span>
  <span class="s2">"response"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">"order"</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">"total_credits"</span><span class="o">:</span> <span class="s2">"0.30"</span><span class="p">,</span>
      <span class="s2">"currency"</span><span class="o">:</span> <span class="s2">"USD"</span><span class="p">,</span>
      <span class="s2">"as_group"</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">"total_units"</span><span class="o">:</span> <span class="mi">6</span><span class="p">,</span>
      <span class="s2">"jobs_available"</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">"243646"</span><span class="p">,</span>
        <span class="s2">"243647"</span><span class="p">,</span>
        <span class="s2">"243645"</span>
      <span class="p">],</span>
      <span class="s2">"total_jobs"</span><span class="o">:</span> <span class="s2">"3"</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre>
      </div>

    <div id="js-sidebar" class="sidebar-shell">
      <div class="js-toggle-list sidebar-module expandable">
        <ul>
          <li class="js-topic">
            <h3><a href="#" class="js-expand-btn collapsed">&nbsp;</a><a href="/overview/">System Overview</a></h3>
            <ul class="js-guides">
              <li><a href="/overview/client_libraries/">Client Libraries</a></li>
              <li><a href="/v2/authentication/">Authentication</a></li>
              <li><a href="/v2/callback_urls/">Callback URLS</a></li>
              <li><a href="/v2/sandbox/">Sandbox Testing</a></li>
              <li><a href="/v2/first_steps/">First Steps</a></li>
              <li><a href="/v2/best_practices/">Best Practices</a></li>
              <li><a href="/v2/ui_recommendations/">UI Recommendations</a></li>
              <li><a href="/v2/api_methods/">API Methods</a></li>
            </ul>
          </li>
          <li class="js-topic">
            <h3><a href="#" class="js-expand-btn collapsed">&nbsp;</a><a href="/v2/payloads/">Payloads</a></h3>
            <ul class="js-guides">
              <li><a href="/v2/error_codes/">Error codes</a></li>
              <li><a href="http://gengo.com/how-it-works/pricing-languages/">Supported translation languages</a></li>
            </ul>
          </li>
          <li class="js-topic">
            <h3><a href="#" class="js-expand-btn collapsed">&nbsp;</a><a href="/v2/account/">Account</a></h3>
            <ul class="js-guides">
              <li><a href="/v2/account/#stats-get">Stats (GET)</a></li>
              <li><a href="/v2/account/#balance-get">Balance (GET)</a></li>
            </ul>
          </li>
          <li class="js-topic">
            <h3><a href="#" class="js-expand-btn collapsed">&nbsp;</a><a href="/v2/job/">Job</a></h3>
            <ul class="js-guides">
              <li><a href="/v2/job/#job-get">Job (GET)</a></li>
              <li><a href="/v2/job/#job-put">Job (PUT)</a></li>
              <li><a href="/v2/job/#job-delete">Job (DELETE)</a></li>
              <li><a href="/v2/job/#preview-get">Preview (GET)</a></li>
              <li><a href="/v2/job/#revisions-get">Revisions (GET)</a></li>
              <li><a href="/v2/job/#revision-get">Revision (GET)</a></li>
              <li><a href="/v2/job/#feedback-get">Feedback (GET)</a></li>
              <li><a href="/v2/job/#comment-post">Comment (POST)</a></li>
              <li><a href="/v2/job/#comments-get">Comments (GET)</a></li>
            </ul>
          </li>
          <li class="js-topic">
            <h3><a href="#" class="js-expand-btn collapsed">&nbsp;</a><a href="/v2/glossary/">Glossary</a></h3>
            <ul class="js-guides">
              <li><a href="/v2/glossary/#glossaries-get">Glossary (GET)</a></li>
              <li><a href="/v2/glossary/#glossary-get">Glossary by id (GET)</a></li>
            </ul>
          </li>
          <li class="js-topic">
            <h3><a href="#" class="js-expand-btn collapsed">&nbsp;</a><a href="/v2/jobs/">Jobs</a></h3>
            <ul class="js-guides">
              <li><a href="/v2/jobs/#job">Job Group (GET)</a></li>
              <li><a href="/v2/jobs/#jobs-post">Jobs (POST)</a></li>
              <li><a href="/v2/jobs/#jobs-get">Jobs (GET)</a></li>
              <li><a href="/v2/jobs/#jobs-by-id-get">Jobs by id (GET)</a></li>
            </ul>
          </li>
          <li class="js-topic">
            <h3><a href="#" class="js-expand-btn collapsed">&nbsp;</a><a href="/v2/service/">Service</a></h3>
            <ul class="js-guides">
              <li><a href="/v2/service/#language-pairs-get">Language Pairs (GET)</a></li>
              <li><a href="/v2/service/#languages-get">Languages (GET)</a></li>
              <li><a href="/v2/service/#quote-post">Quote (POSt)</a></li>
              <li><a href="/v2/service/#quote-files-post">Quote files (POST)</a></li>
            </ul>
          </li>
        </ul>
      </div> <!-- /sidebar-module -->
    </div><!-- /sidebar-shell -->

    </div><!-- #wrapper -->


</body>
</html>
